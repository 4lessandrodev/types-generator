import {{pascalCase name}}Aggregate from '@modules/{{dashCase name}}/domain/aggregates/{{dashCase name}}.aggregate.ts';
import {{pascalCase name}}Model from '@modules/{{dashCase name}}/infra/models/{{dashCase name}}.model.ts';
import { IMapper } from 'types-ddd';

export const {{pascalCase name}}AggregateFactor = (model: {{pascalCase name}}Model): Result<{{pascalCase name}}Aggregate> => {
    // check value object results here before initialize aggregate
    return {{pascalCase name}}Aggregate.create({
        ID: DomainId.create(model.id),
        key: model.key
    });
}

export const {{pascalCase name}}ModelFactor = (aggregate: {{pascalCase name}}Aggregate): {{pascalCase name}}Model => {
    return {
        id: aggregate.id.value.toString(),
        key: aggregate.key
    }
}

export class {{pascalCase name}}Mapper implements IMapper<{{pascalCase name}}Aggregate, {{pascalCase name}}Model>{
    toDomain: (model: {{pascalCase name}}Model) => {{pascalCase name}}AggregateFactor(model).getResult();
    toPersistence: () => {{pascalCase name}}ModelFactor(aggregate);
}

export default {{pascalCase name}}Mapper;
